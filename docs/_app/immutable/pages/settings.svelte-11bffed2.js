import{S as _e,i as de,s as ce,U as ve,e as c,c as h,a as v,d as n,b as $,g,H as p,I as K,V as ge,W as $e,X as Ee,q as z,o as J,N as xe,t as E,k as L,h as x,m as S,G,K as be,a9 as he,w as ee,x as te,y as se,B as le,T as we,E as me,j as ye}from"../chunks/index-b2b37e39.js";import{c as C}from"../chunks/stores-8c6b68ba.js";import"../chunks/index-2c9e022f.js";function ke(_){let s,l,o,a,t;const d=_[2].default,u=ve(d,_,_[1],null);return{c(){s=c("span"),l=c("p"),u&&u.c(),this.h()},l(e){s=h(e,"SPAN",{class:!0});var r=v(s);l=h(r,"P",{class:!0});var i=v(l);u&&u.l(i),i.forEach(n),r.forEach(n),this.h()},h(){$(l,"class","hidden"),$(s,"class","settings-about")},m(e,r){g(e,s,r),p(s,l),u&&u.m(l,null),_[3](s),o=!0,a||(t=K(s,"click",_[4]),a=!0)},p(e,[r]){u&&u.p&&(!o||r&2)&&ge(u,d,e,e[1],o?Ee(d,e[1],r,null):$e(e[1]),null)},i(e){o||(z(u,e),o=!0)},o(e){J(u,e),o=!1},d(e){e&&n(s),u&&u.d(e),_[3](null),a=!1,t()}}}function Te(_,s,l){let{$$slots:o={},$$scope:a}=s,t;function d(e){xe[e?"unshift":"push"](()=>{t=e,l(0,t)})}const u=()=>{t.querySelector("p").classList.toggle("hidden")};return _.$$set=e=>{"$$scope"in e&&l(1,a=e.$$scope)},[t,a,o,d,u]}class re extends _e{constructor(s){super(),de(this,s,Te,ke,ce,{})}}function ue(_){let s,l,o,a,t,d,u,e,r,i,m,y,F;return{c(){s=c("div"),l=c("label"),o=E("Exec Server Url:"),a=L(),t=c("input"),d=L(),u=c("div"),e=c("label"),r=E("Program:"),i=L(),m=c("input"),this.h()},l(b){s=h(b,"DIV",{});var D=v(s);l=h(D,"LABEL",{for:!0});var P=v(l);o=x(P,"Exec Server Url:"),P.forEach(n),a=S(D),t=h(D,"INPUT",{type:!0,id:!0}),D.forEach(n),d=S(b),u=h(b,"DIV",{});var V=v(u);e=h(V,"LABEL",{for:!0});var I=v(e);r=x(I,"Program:"),I.forEach(n),i=S(V),m=h(V,"INPUT",{type:!0,id:!0}),V.forEach(n),this.h()},h(){$(l,"for","exec_server_url"),$(t,"type","text"),$(t,"id","exec_server_url"),$(e,"for","program"),$(m,"type","text"),$(m,"id","program")},m(b,D){g(b,s,D),p(s,l),p(l,o),p(s,a),p(s,t),G(t,_[0].external_program.exec_server_url),g(b,d,D),g(b,u,D),p(u,e),p(e,r),p(u,i),p(u,m),G(m,_[0].external_program.program),y||(F=[K(t,"input",_[1]),K(m,"input",_[2])],y=!0)},p(b,D){D&1&&t.value!==b[0].external_program.exec_server_url&&G(t,b[0].external_program.exec_server_url),D&1&&m.value!==b[0].external_program.program&&G(m,b[0].external_program.program)},d(b){b&&n(s),b&&n(d),b&&n(u),y=!1,be(F)}}}function Ae(_){let s,l,o,a,t,d,u,e,r;return{c(){s=E("'External' links will post a json payload to this server url. These values will be used as "),l=c("strong"),o=E("url"),a=E(`
		and
		`),t=c("strong"),d=E("program"),u=E(`
		fields. This allows opening videos/streams with an external program via a local web server (such as exec-server.go or you might create your own). An average json payload might look like this:
		`),e=c("pre"),r=E(`{ 
  url: "https://twitch.tv/videos/xxxxxxxx" 
  program: "runstreamlink.sh", 
}`)},l(i){s=x(i,"'External' links will post a json payload to this server url. These values will be used as "),l=h(i,"STRONG",{});var m=v(l);o=x(m,"url"),m.forEach(n),a=x(i,`
		and
		`),t=h(i,"STRONG",{});var y=v(t);d=x(y,"program"),y.forEach(n),u=x(i,`
		fields. This allows opening videos/streams with an external program via a local web server (such as exec-server.go or you might create your own). An average json payload might look like this:
		`),e=h(i,"PRE",{});var F=v(e);r=x(F,`{ 
  url: "https://twitch.tv/videos/xxxxxxxx" 
  program: "runstreamlink.sh", 
}`),F.forEach(n)},m(i,m){g(i,s,m),g(i,l,m),p(l,o),g(i,a,m),g(i,t,m),p(t,d),g(i,u,m),g(i,e,m),p(e,r)},p:me,d(i){i&&n(s),i&&n(l),i&&n(a),i&&n(t),i&&n(u),i&&n(e)}}}function fe(_){let s,l,o,a,t,d,u;return{c(){s=c("div"),l=c("label"),o=E("Url:"),a=L(),t=c("input"),this.h()},l(e){s=h(e,"DIV",{});var r=v(s);l=h(r,"LABEL",{for:!0});var i=v(l);o=x(i,"Url:"),i.forEach(n),a=S(r),t=h(r,"INPUT",{type:!0,id:!0}),r.forEach(n),this.h()},h(){$(l,"for","twitch_proxy_api"),$(t,"type","text"),$(t,"id","twitch_proxy_api")},m(e,r){g(e,s,r),p(s,l),p(l,o),p(s,a),p(s,t),G(t,_[0].twitch_proxy_api.url),d||(u=K(t,"input",_[3]),d=!0)},p(e,r){r&1&&t.value!==e[0].twitch_proxy_api.url&&G(t,e[0].twitch_proxy_api.url)},d(e){e&&n(s),d=!1,u()}}}function De(_){let s,l,o,a,t,d=(_[0]?_[0].twitch_proxy_api.url:"http://localhost:9000/api/twitch")+"",u,e;return{c(){s=E("A proxy url which serves twitch api json data. This application requests all Twitch api data from here, providing a "),l=c("strong"),o=E("url"),a=E(`
		query string parameter. A request looks like this:
		`),t=c("strong"),u=E(d),e=E("?url=https%3A%2F%2Fapi.twitch.tv%2Fhelix%2Fusers%2Ffollows%3Ffirst%3D100%26from_id%3Dxxxxxx")},l(r){s=x(r,"A proxy url which serves twitch api json data. This application requests all Twitch api data from here, providing a "),l=h(r,"STRONG",{});var i=v(l);o=x(i,"url"),i.forEach(n),a=x(r,`
		query string parameter. A request looks like this:
		`),t=h(r,"STRONG",{});var m=v(t);u=x(m,d),e=x(m,"?url=https%3A%2F%2Fapi.twitch.tv%2Fhelix%2Fusers%2Ffollows%3Ffirst%3D100%26from_id%3Dxxxxxx"),m.forEach(n)},m(r,i){g(r,s,i),g(r,l,i),p(l,o),g(r,a,i),g(r,t,i),p(t,u),p(t,e)},p(r,i){i&1&&d!==(d=(r[0]?r[0].twitch_proxy_api.url:"http://localhost:9000/api/twitch")+"")&&ye(u,d)},d(r){r&&n(s),r&&n(l),r&&n(a),r&&n(t)}}}function pe(_){let s,l,o,a,t,d,u;return{c(){s=c("div"),l=c("label"),o=E("Url:"),a=L(),t=c("input"),this.h()},l(e){s=h(e,"DIV",{});var r=v(s);l=h(r,"LABEL",{for:!0});var i=v(l);o=x(i,"Url:"),i.forEach(n),a=S(r),t=h(r,"INPUT",{type:!0,id:!0}),r.forEach(n),this.h()},h(){$(l,"for","max_recent_videos"),$(t,"type","number"),$(t,"id","max_recent_videos")},m(e,r){g(e,s,r),p(s,l),p(l,o),p(s,a),p(s,t),G(t,_[0].max_recent_videos),d||(u=K(t,"input",_[4]),d=!0)},p(e,r){r&1&&he(t.value)!==e[0].max_recent_videos&&G(t,e[0].max_recent_videos)},d(e){e&&n(s),d=!1,u()}}}function Le(_){let s,l,o;return{c(){s=E("Maximum number of records to show in "),l=c("a"),o=E("recent videos"),this.h()},l(a){s=x(a,"Maximum number of records to show in "),l=h(a,"A",{href:!0});var t=v(l);o=x(t,"recent videos"),t.forEach(n),this.h()},h(){$(l,"href","recent-videos")},m(a,t){g(a,s,t),g(a,l,t),p(l,o)},p:me,d(a){a&&n(s),a&&n(l)}}}function Se(_){let s,l,o,a,t,d,u,e,r,i,m,y,F,b,D,P,V,I,W,N,M,Q,Y,j,Z,q,X,k=_[0]&&ue(_);i=new re({props:{$$slots:{default:[Ae]},$$scope:{ctx:_}}});let T=_[0]&&fe(_);I=new re({props:{$$slots:{default:[De]},$$scope:{ctx:_}}});let A=_[0]&&pe(_);return q=new re({props:{$$slots:{default:[Le]},$$scope:{ctx:_}}}),{c(){s=c("h1"),l=E("Settings"),o=L(),a=c("fieldset"),t=c("legend"),d=E("External Links"),u=L(),e=c("div"),k&&k.c(),r=L(),ee(i.$$.fragment),m=L(),y=c("fieldset"),F=c("legend"),b=E("Twitch Proxy Api"),D=L(),P=c("div"),T&&T.c(),V=L(),ee(I.$$.fragment),W=L(),N=c("fieldset"),M=c("legend"),Q=E("Max Recent Videos"),Y=L(),j=c("div"),A&&A.c(),Z=L(),ee(q.$$.fragment),this.h()},l(f){s=h(f,"H1",{});var w=v(s);l=x(w,"Settings"),w.forEach(n),o=S(f),a=h(f,"FIELDSET",{class:!0});var U=v(a);t=h(U,"LEGEND",{});var O=v(t);d=x(O,"External Links"),O.forEach(n),u=S(U),e=h(U,"DIV",{class:!0});var H=v(e);k&&k.l(H),H.forEach(n),r=S(U),te(i.$$.fragment,U),U.forEach(n),m=S(f),y=h(f,"FIELDSET",{class:!0});var R=v(y);F=h(R,"LEGEND",{});var ie=v(F);b=x(ie,"Twitch Proxy Api"),ie.forEach(n),D=S(R),P=h(R,"DIV",{class:!0});var ae=v(P);T&&T.l(ae),ae.forEach(n),V=S(R),te(I.$$.fragment,R),R.forEach(n),W=S(f),N=h(f,"FIELDSET",{class:!0});var B=v(N);M=h(B,"LEGEND",{});var ne=v(M);Q=x(ne,"Max Recent Videos"),ne.forEach(n),Y=S(B),j=h(B,"DIV",{class:!0});var oe=v(j);A&&A.l(oe),oe.forEach(n),Z=S(B),te(q.$$.fragment,B),B.forEach(n),this.h()},h(){$(e,"class","settings"),$(a,"class","border-1 radius-1"),$(P,"class","settings"),$(y,"class","border-1 radius-1"),$(j,"class","settings"),$(N,"class","border-1 radius-1")},m(f,w){g(f,s,w),p(s,l),g(f,o,w),g(f,a,w),p(a,t),p(t,d),p(a,u),p(a,e),k&&k.m(e,null),p(a,r),se(i,a,null),g(f,m,w),g(f,y,w),p(y,F),p(F,b),p(y,D),p(y,P),T&&T.m(P,null),p(y,V),se(I,y,null),g(f,W,w),g(f,N,w),p(N,M),p(M,Q),p(N,Y),p(N,j),A&&A.m(j,null),p(N,Z),se(q,N,null),X=!0},p(f,[w]){f[0]?k?k.p(f,w):(k=ue(f),k.c(),k.m(e,null)):k&&(k.d(1),k=null);const U={};w&32&&(U.$$scope={dirty:w,ctx:f}),i.$set(U),f[0]?T?T.p(f,w):(T=fe(f),T.c(),T.m(P,null)):T&&(T.d(1),T=null);const O={};w&33&&(O.$$scope={dirty:w,ctx:f}),I.$set(O),f[0]?A?A.p(f,w):(A=pe(f),A.c(),A.m(j,null)):A&&(A.d(1),A=null);const H={};w&32&&(H.$$scope={dirty:w,ctx:f}),q.$set(H)},i(f){X||(z(i.$$.fragment,f),z(I.$$.fragment,f),z(q.$$.fragment,f),X=!0)},o(f){J(i.$$.fragment,f),J(I.$$.fragment,f),J(q.$$.fragment,f),X=!1},d(f){f&&n(s),f&&n(o),f&&n(a),k&&k.d(),le(i),f&&n(m),f&&n(y),T&&T.d(),le(I),f&&n(W),f&&n(N),A&&A.d(),le(q)}}}function Fe(_,s,l){let o;we(_,C,e=>l(0,o=e));function a(){o.external_program.exec_server_url=this.value,C.set(o)}function t(){o.external_program.program=this.value,C.set(o)}function d(){o.twitch_proxy_api.url=this.value,C.set(o)}function u(){o.max_recent_videos=he(this.value),C.set(o)}return[o,a,t,d,u]}class Ue extends _e{constructor(s){super(),de(this,s,Fe,Se,ce,{})}}export{Ue as default};
