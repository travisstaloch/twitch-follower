import{S as Pe,i as We,s as Xe,e as w,t as S,c as b,a as E,h as I,d as v,b as p,g as D,H as _,j as O,k as T,m as V,V as ye,W as $e,X as xe,$ as Oe,I as ae,a3 as et,a2 as tt,K as Qe,q as W,o as le,a1 as Ye,w as lt,l as Ue,x as at,y as st,n as rt,p as it,B as nt,T as Be,U as ot,C as be,F as Re,a4 as ut,a5 as qe,a6 as ee,J as ft,z as _t,E as Fe,L as ze,a7 as ht,M as ct}from"./index-b2b37e39.js";import{u as mt,c as vt,l as dt}from"./stores-201ea01f.js";import{t as te,a as Ge,p as gt,g as pt}from"./util-2ac49776.js";import{R as wt}from"./Refresh-e04be643.js";function He(e,t,i){const o=e.slice();return o[12]=t[i],o}function Je(e){let t,i,o;return{c(){t=w("a"),i=S(e[1]),this.h()},l(n){t=b(n,"A",{href:!0,target:!0});var a=E(t);i=I(a,e[1]),a.forEach(v),this.h()},h(){p(t,"href",o="https://twitch.tv/"+e[1]),p(t,"target","_blank")},m(n,a){D(n,t,a),_(t,i)},p(n,a){a&2&&O(i,n[1]),a&2&&o!==(o="https://twitch.tv/"+n[1])&&p(t,"href",o)},d(n){n&&v(t)}}}function Le(e){let t,i=e[0].data.length+"",o,n,a,m,c;const r=e[8].default,u=ot(r,e,e[7],null);let h=e[0].data,d=[];for(let s=0;s<h.length;s+=1)d[s]=Me(He(e,h,s));return{c(){t=w("div"),o=S(i),n=S(` records
		`),u&&u.c(),a=T(),m=w("div");for(let s=0;s<d.length;s+=1)d[s].c();this.h()},l(s){t=b(s,"DIV",{});var f=E(t);o=I(f,i),n=I(f,` records
		`),u&&u.l(f),f.forEach(v),a=V(s),m=b(s,"DIV",{class:!0});var l=E(m);for(let g=0;g<d.length;g+=1)d[g].l(l);l.forEach(v),this.h()},h(){p(m,"class","streams")},m(s,f){D(s,t,f),_(t,o),_(t,n),u&&u.m(t,null),D(s,a,f),D(s,m,f);for(let l=0;l<d.length;l+=1)d[l].m(m,null);c=!0},p(s,f){if((!c||f&1)&&i!==(i=s[0].data.length+"")&&O(o,i),u&&u.p&&(!c||f&128)&&ye(u,r,s,s[7],c?xe(r,s[7],f,null):$e(s[7]),null),f&113){h=s[0].data;let l;for(l=0;l<h.length;l+=1){const g=He(s,h,l);d[l]?d[l].p(g,f):(d[l]=Me(g),d[l].c(),d[l].m(m,null))}for(;l<d.length;l+=1)d[l].d(1);d.length=h.length}},i(s){c||(W(u,s),c=!0)},o(s){le(u,s),c=!1},d(s){s&&v(t),u&&u.d(s),s&&v(a),s&&v(m),Ye(d,s)}}}function Me(e){let t,i,o,n,a,m,c,r,u,h=e[12].user_login+"",d,s,f,l,g=e[12].title+"",U,se,L,M=e[12].game_name+"",X,re,C,j=e[12].viewer_count+"",Q,ie,K=Ge(e[12].started_at)+"",Y,ne,oe,N,B,ue,Z,fe,R,_e,y,he,q,ce,$,me,F,G,ve,de,H,ge,pe,we,Ee;function Ze(){return e[10](e[12])}return{c(){t=w("div"),i=w("a"),o=w("img"),c=T(),r=w("div"),u=w("a"),d=S(h),f=S(`
					-
					`),l=w("strong"),U=S(g),se=T(),L=w("div"),X=S(M),re=T(),C=w("div"),Q=S(j),ie=S(" viewers, "),Y=S(K),ne=S(" uptime"),oe=T(),N=w("div"),B=w("a"),ue=S("Follows"),fe=T(),R=w("a"),_e=S("Videos"),he=T(),q=w("a"),ce=S("Streams"),me=T(),F=w("div"),G=w("button"),ve=S("Chat"),de=T(),H=w("button"),ge=S("External"),pe=T(),this.h()},l(z){t=b(z,"DIV",{class:!0});var k=E(t);i=b(k,"A",{class:!0,href:!0,target:!0});var ke=E(i);o=b(ke,"IMG",{class:!0,src:!0,srcset:!0,alt:!0}),ke.forEach(v),c=V(k),r=b(k,"DIV",{});var A=E(r);u=b(A,"A",{href:!0,target:!0});var Se=E(u);d=I(Se,h),Se.forEach(v),f=I(A,`
					-
					`),l=b(A,"STRONG",{});var Ie=E(l);U=I(Ie,g),Ie.forEach(v),se=V(A),L=b(A,"DIV",{});var Te=E(L);X=I(Te,M),Te.forEach(v),re=V(A),C=b(A,"DIV",{});var P=E(C);Q=I(P,j),ie=I(P," viewers, "),Y=I(P,K),ne=I(P," uptime"),P.forEach(v),oe=V(A),N=b(A,"DIV",{});var J=E(N);B=b(J,"A",{href:!0});var Ve=E(B);ue=I(Ve,"Follows"),Ve.forEach(v),fe=V(J),R=b(J,"A",{href:!0});var De=E(R);_e=I(De,"Videos"),De.forEach(v),he=V(J),q=b(J,"A",{href:!0});var Ae=E(q);ce=I(Ae,"Streams"),Ae.forEach(v),J.forEach(v),me=V(A),F=b(A,"DIV",{});var x=E(F);G=b(x,"BUTTON",{});var Ne=E(G);ve=I(Ne,"Chat"),Ne.forEach(v),de=V(x),H=b(x,"BUTTON",{});var Ce=E(H);ge=I(Ce,"External"),Ce.forEach(v),x.forEach(v),A.forEach(v),pe=V(k),k.forEach(v),this.h()},h(){p(o,"class","preview-static"),Oe(o.src,n=te(e[12].thumbnail_url,e[5],!1))||p(o,"src",n),p(o,"srcset",a=`${te(e[12].thumbnail_url,e[5],!1)} //unsplash.it/${e[5].width}/${e[5].height}`),p(o,"alt","preview"),p(i,"class","image-link"),p(i,"href",m="https://twitch.tv/"+e[12].user_login),p(i,"target","_blank"),p(u,"href",s="https://twitch.tv/"+e[12].user_login),p(u,"target","_blank"),p(B,"href",Z="/twitch-follower/follows/"+e[12].user_id+"-"+e[12].user_login),p(R,"href",y="/twitch-follower/videos/"+e[12].user_id+"-"+e[12].user_login),p(q,"href",$="/twitch-follower/streams/"+e[12].user_id+"-"+e[12].user_login),p(t,"class","stream card")},m(z,k){D(z,t,k),_(t,i),_(i,o),_(t,c),_(t,r),_(r,u),_(u,d),_(r,f),_(r,l),_(l,U),_(r,se),_(r,L),_(L,X),_(r,re),_(r,C),_(C,Q),_(C,ie),_(C,Y),_(C,ne),_(r,oe),_(r,N),_(N,B),_(B,ue),_(N,fe),_(N,R),_(R,_e),_(N,he),_(N,q),_(q,ce),_(r,me),_(r,F),_(F,G),_(G,ve),_(F,de),_(F,H),_(H,ge),_(t,pe),we||(Ee=[ae(G,"click",function(){et(e[6](e[12].user_login))&&e[6](e[12].user_login).apply(this,arguments)}),ae(H,"click",tt(Ze))],we=!0)},p(z,k){e=z,k&1&&!Oe(o.src,n=te(e[12].thumbnail_url,e[5],!1))&&p(o,"src",n),k&1&&a!==(a=`${te(e[12].thumbnail_url,e[5],!1)} //unsplash.it/${e[5].width}/${e[5].height}`)&&p(o,"srcset",a),k&1&&m!==(m="https://twitch.tv/"+e[12].user_login)&&p(i,"href",m),k&1&&h!==(h=e[12].user_login+"")&&O(d,h),k&1&&s!==(s="https://twitch.tv/"+e[12].user_login)&&p(u,"href",s),k&1&&g!==(g=e[12].title+"")&&O(U,g),k&1&&M!==(M=e[12].game_name+"")&&O(X,M),k&1&&j!==(j=e[12].viewer_count+"")&&O(Q,j),k&1&&K!==(K=Ge(e[12].started_at)+"")&&O(Y,K),k&1&&Z!==(Z="/twitch-follower/follows/"+e[12].user_id+"-"+e[12].user_login)&&p(B,"href",Z),k&1&&y!==(y="/twitch-follower/videos/"+e[12].user_id+"-"+e[12].user_login)&&p(R,"href",y),k&1&&$!==($="/twitch-follower/streams/"+e[12].user_id+"-"+e[12].user_login)&&p(q,"href",$)},d(z){z&&v(t),we=!1,Qe(Ee)}}}function bt(e){let t,i,o,n,a,m,c,r,u,h,d;a=new wt({});let s=e[3]&&e[3].login!=e[1]&&Je(e),f=e[0]&&e[0].data&&Le(e);return{c(){t=w("h1"),i=S("Streams"),o=T(),n=w("button"),lt(a.$$.fragment),m=T(),s&&s.c(),c=T(),f&&f.c(),r=Ue(),this.h()},l(l){t=b(l,"H1",{});var g=E(t);i=I(g,"Streams"),g.forEach(v),o=V(l),n=b(l,"BUTTON",{title:!0});var U=E(n);at(a.$$.fragment,U),U.forEach(v),m=V(l),s&&s.l(l),c=V(l),f&&f.l(l),r=Ue(),this.h()},h(){p(n,"title","refresh")},m(l,g){D(l,t,g),_(t,i),D(l,o,g),D(l,n,g),st(a,n,null),D(l,m,g),s&&s.m(l,g),D(l,c,g),f&&f.m(l,g),D(l,r,g),u=!0,h||(d=ae(n,"click",e[9]),h=!0)},p(l,[g]){l[3]&&l[3].login!=l[1]?s?s.p(l,g):(s=Je(l),s.c(),s.m(c.parentNode,c)):s&&(s.d(1),s=null),l[0]&&l[0].data?f?(f.p(l,g),g&1&&W(f,1)):(f=Le(l),f.c(),W(f,1),f.m(r.parentNode,r)):f&&(rt(),le(f,1,1,()=>{f=null}),it())},i(l){u||(W(a.$$.fragment,l),W(f),u=!0)},o(l){le(a.$$.fragment,l),le(f),u=!1},d(l){l&&v(t),l&&v(o),l&&v(n),nt(a),l&&v(m),s&&s.d(l),l&&v(c),f&&f.d(l),l&&v(r),h=!1,d()}}}function Et(e,t,i){let o,n;Be(e,mt,l=>i(3,o=l)),Be(e,vt,l=>i(4,n=l));let{$$slots:a={},$$scope:m}=t,{streams:c,uname:r,uid:u}=t;const h={width:320,height:180};function d(l){window.open(`https://www.twitch.tv/popout/${l}/chat?popout=`,"twitchchat","menubar=no,location=no,resizable=no,scrollbars=no,status=no,width=300,height=400")}const s=async()=>i(0,c=await dt(u)),f=async l=>await gt(n.external_program.exec_server_url,{url:`https://twitch.tv/${l.user_login}`,program:n.external_program.program});return e.$$set=l=>{"streams"in l&&i(0,c=l.streams),"uname"in l&&i(1,r=l.uname),"uid"in l&&i(2,u=l.uid),"$$scope"in l&&i(7,m=l.$$scope)},[c,r,u,o,n,h,d,m,a,s,f]}class At extends Pe{constructor(t){super(),We(this,t,Et,bt,Xe,{streams:0,uname:1,uid:2})}}function je(e,t,i){const o=e.slice();return o[5]=t[i],o}function Ke(e){let t,i=e[5]+"",o,n;return{c(){t=w("option"),o=S(i),this.h()},l(a){t=b(a,"OPTION",{});var m=E(t);o=I(m,i),m.forEach(v),this.h()},h(){t.__value=n=e[5],t.value=t.__value},m(a,m){D(a,t,m),_(t,o)},p(a,m){m&2&&i!==(i=a[5]+"")&&O(o,i),m&2&&n!==(n=a[5])&&(t.__value=n,t.value=t.__value)},d(a){a&&v(t)}}}function kt(e){let t,i,o,n=e[1],a=[];for(let r=0;r<n.length;r+=1)a[r]=Ke(je(e,n,r));let m=[e[3]],c={};for(let r=0;r<m.length;r+=1)c=be(c,m[r]);return{c(){t=w("select");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){t=b(r,"SELECT",{});var u=E(t);for(let h=0;h<a.length;h+=1)a[h].l(u);u.forEach(v),this.h()},h(){Re(t,c),e[0]===void 0&&ut(()=>e[4].call(t))},m(r,u){D(r,t,u);for(let h=0;h<a.length;h+=1)a[h].m(t,null);(c.multiple?qe:ee)(t,c.value),t.autofocus&&t.focus(),ee(t,e[0]),i||(o=[ae(t,"change",e[4]),ft(e[2].call(null,t))],i=!0)},p(r,[u]){if(u&2){n=r[1];let h;for(h=0;h<n.length;h+=1){const d=je(r,n,h);a[h]?a[h].p(d,u):(a[h]=Ke(d),a[h].c(),a[h].m(t,null))}for(;h<a.length;h+=1)a[h].d(1);a.length=n.length}Re(t,c=_t(m,[u&8&&r[3]])),u&8&&"value"in c&&(c.multiple?qe:ee)(t,c.value),u&3&&ee(t,r[0])},i:Fe,o:Fe,d(r){r&&v(t),Ye(a,r),i=!1,Qe(o)}}}function St(e,t,i){const o=pt(ct);let{values:n}=t,{value:a}=t;function m(){a=ht(this),i(0,a),i(1,n)}return e.$$set=c=>{i(3,t=be(be({},t),ze(c))),"values"in c&&i(1,n=c.values),"value"in c&&i(0,a=c.value)},t=ze(t),[a,n,o,t,m]}class Nt extends Pe{constructor(t){super(),We(this,t,St,kt,Xe,{values:1,value:0})}}export{At as S,Nt as a};
