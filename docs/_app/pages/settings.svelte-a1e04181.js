import{S as Z,i as ee,s as te,V as le,e as d,c as m,a as g,d as n,b as S,g as x,H as c,I as O,W as se,X as re,Y as ie,q as R,o as B,O as ae,t as $,k as D,h as E,m as I,G as U,L as ne,w as X,x as Y,y as z,B as J,U as oe,j as ue}from"../chunks/vendor-611aba13.js";import{h as V}from"../chunks/stores-dbe2d455.js";function pe(f){let t,i,o,u,l;const _=f[2].default,a=le(_,f,f[1],null);return{c(){t=d("span"),i=d("p"),a&&a.c(),this.h()},l(e){t=m(e,"SPAN",{class:!0});var r=g(t);i=m(r,"P",{class:!0});var s=g(i);a&&a.l(s),s.forEach(n),r.forEach(n),this.h()},h(){S(i,"class","hidden"),S(t,"class","settings-about")},m(e,r){x(e,t,r),c(t,i),a&&a.m(i,null),f[3](t),o=!0,u||(l=O(t,"click",f[4]),u=!0)},p(e,[r]){a&&a.p&&(!o||r&2)&&se(a,_,e,e[1],o?ie(_,e[1],r,null):re(e[1]),null)},i(e){o||(R(a,e),o=!0)},o(e){B(a,e),o=!1},d(e){e&&n(t),a&&a.d(e),f[3](null),u=!1,l()}}}function fe(f,t,i){let{$$slots:o={},$$scope:u}=t,l;function _(e){ae[e?"unshift":"push"](()=>{l=e,i(0,l)})}const a=()=>{l.querySelector("p").classList.toggle("hidden")};return f.$$set=e=>{"$$scope"in e&&i(1,u=e.$$scope)},[l,u,o,_,a]}class K extends Z{constructor(t){super();ee(this,t,fe,pe,te,{})}}function M(f){let t,i,o,u,l,_,a,e,r,s,h,w,A;return{c(){t=d("div"),i=d("label"),o=$("Exec Server Url:"),u=D(),l=d("input"),_=D(),a=d("div"),e=d("label"),r=$("Program:"),s=D(),h=d("input"),this.h()},l(v){t=m(v,"DIV",{});var k=g(t);i=m(k,"LABEL",{for:!0});var L=g(i);o=E(L,"Exec Server Url:"),L.forEach(n),u=I(k),l=m(k,"INPUT",{type:!0,id:!0}),k.forEach(n),_=I(v),a=m(v,"DIV",{});var P=g(a);e=m(P,"LABEL",{for:!0});var F=g(e);r=E(F,"Program:"),F.forEach(n),s=I(P),h=m(P,"INPUT",{type:!0,id:!0}),P.forEach(n),this.h()},h(){S(i,"for","exec_server_url"),S(l,"type","text"),S(l,"id","exec_server_url"),S(e,"for","program"),S(h,"type","text"),S(h,"id","program")},m(v,k){x(v,t,k),c(t,i),c(i,o),c(t,u),c(t,l),U(l,f[0].external_program.exec_server_url),x(v,_,k),x(v,a,k),c(a,e),c(e,r),c(a,s),c(a,h),U(h,f[0].external_program.program),w||(A=[O(l,"input",f[1]),O(h,"input",f[2])],w=!0)},p(v,k){k&1&&l.value!==v[0].external_program.exec_server_url&&U(l,v[0].external_program.exec_server_url),k&1&&h.value!==v[0].external_program.program&&U(h,v[0].external_program.program)},d(v){v&&n(t),v&&n(_),v&&n(a),w=!1,ne(A)}}}function _e(f){let t,i,o,u,l,_,a,e,r;return{c(){t=$("'External' links will post a json payload to this server url. These values will be used as "),i=d("strong"),o=$("url"),u=$(`
		and
		`),l=d("strong"),_=$("program"),a=$(`
		fields. This allows opening videos/streams with an external program via a local web server (such as exec-server.go or you might create your own). An average json payload might look like this:
		`),e=d("pre"),r=$(`{ 
  url: "https://twitch.tv/videos/xxxxxxxx" 
  program: "runstreamlink.sh", 
}`)},l(s){t=E(s,"'External' links will post a json payload to this server url. These values will be used as "),i=m(s,"STRONG",{});var h=g(i);o=E(h,"url"),h.forEach(n),u=E(s,`
		and
		`),l=m(s,"STRONG",{});var w=g(l);_=E(w,"program"),w.forEach(n),a=E(s,`
		fields. This allows opening videos/streams with an external program via a local web server (such as exec-server.go or you might create your own). An average json payload might look like this:
		`),e=m(s,"PRE",{});var A=g(e);r=E(A,`{ 
  url: "https://twitch.tv/videos/xxxxxxxx" 
  program: "runstreamlink.sh", 
}`),A.forEach(n)},m(s,h){x(s,t,h),x(s,i,h),c(i,o),x(s,u,h),x(s,l,h),c(l,_),x(s,a,h),x(s,e,h),c(e,r)},d(s){s&&n(t),s&&n(i),s&&n(u),s&&n(l),s&&n(a),s&&n(e)}}}function Q(f){let t,i,o,u,l,_,a;return{c(){t=d("div"),i=d("label"),o=$("Url:"),u=D(),l=d("input"),this.h()},l(e){t=m(e,"DIV",{});var r=g(t);i=m(r,"LABEL",{for:!0});var s=g(i);o=E(s,"Url:"),s.forEach(n),u=I(r),l=m(r,"INPUT",{type:!0,id:!0}),r.forEach(n),this.h()},h(){S(i,"for","twitch_proxy_api"),S(l,"type","text"),S(l,"id","twitch_proxy_api")},m(e,r){x(e,t,r),c(t,i),c(i,o),c(t,u),c(t,l),U(l,f[0].twitch_proxy_api.url),_||(a=O(l,"input",f[3]),_=!0)},p(e,r){r&1&&l.value!==e[0].twitch_proxy_api.url&&U(l,e[0].twitch_proxy_api.url)},d(e){e&&n(t),_=!1,a()}}}function ce(f){let t,i,o,u,l,_=(f[0]?f[0].twitch_proxy_api.url:"http://localhost:9000/api/twitch")+"",a,e;return{c(){t=$("A proxy url which serves twitch api json data. This application requests all Twitch api data from here, providing a "),i=d("strong"),o=$("url"),u=$(`
		query string parameter. A request looks like this:
		`),l=d("strong"),a=$(_),e=$("?url=https%3A%2F%2Fapi.twitch.tv%2Fhelix%2Fusers%2Ffollows%3Ffirst%3D100%26from_id%3Dxxxxxx")},l(r){t=E(r,"A proxy url which serves twitch api json data. This application requests all Twitch api data from here, providing a "),i=m(r,"STRONG",{});var s=g(i);o=E(s,"url"),s.forEach(n),u=E(r,`
		query string parameter. A request looks like this:
		`),l=m(r,"STRONG",{});var h=g(l);a=E(h,_),e=E(h,"?url=https%3A%2F%2Fapi.twitch.tv%2Fhelix%2Fusers%2Ffollows%3Ffirst%3D100%26from_id%3Dxxxxxx"),h.forEach(n)},m(r,s){x(r,t,s),x(r,i,s),c(i,o),x(r,u,s),x(r,l,s),c(l,a),c(l,e)},p(r,s){s&1&&_!==(_=(r[0]?r[0].twitch_proxy_api.url:"http://localhost:9000/api/twitch")+"")&&ue(a,_)},d(r){r&&n(t),r&&n(i),r&&n(u),r&&n(l)}}}function he(f){let t,i,o,u,l,_,a,e,r,s,h,w,A,v,k,L,P,F,G,b=f[0]&&M(f);s=new K({props:{$$slots:{default:[_e]},$$scope:{ctx:f}}});let y=f[0]&&Q(f);return F=new K({props:{$$slots:{default:[ce]},$$scope:{ctx:f}}}),{c(){t=d("h1"),i=$("Settings"),o=D(),u=d("fieldset"),l=d("legend"),_=$("External Links"),a=D(),e=d("div"),b&&b.c(),r=D(),X(s.$$.fragment),h=D(),w=d("fieldset"),A=d("legend"),v=$("Twitch Proxy Api"),k=D(),L=d("div"),y&&y.c(),P=D(),X(F.$$.fragment),this.h()},l(p){t=m(p,"H1",{});var T=g(t);i=E(T,"Settings"),T.forEach(n),o=I(p),u=m(p,"FIELDSET",{class:!0});var N=g(u);l=m(N,"LEGEND",{});var j=g(l);_=E(j,"External Links"),j.forEach(n),a=I(N),e=m(N,"DIV",{class:!0});var H=g(e);b&&b.l(H),H.forEach(n),r=I(N),Y(s.$$.fragment,N),N.forEach(n),h=I(p),w=m(p,"FIELDSET",{class:!0});var q=g(w);A=m(q,"LEGEND",{});var C=g(A);v=E(C,"Twitch Proxy Api"),C.forEach(n),k=I(q),L=m(q,"DIV",{class:!0});var W=g(L);y&&y.l(W),W.forEach(n),P=I(q),Y(F.$$.fragment,q),q.forEach(n),this.h()},h(){S(e,"class","settings"),S(u,"class","border-1 radius-1"),S(L,"class","settings"),S(w,"class","border-1 radius-1")},m(p,T){x(p,t,T),c(t,i),x(p,o,T),x(p,u,T),c(u,l),c(l,_),c(u,a),c(u,e),b&&b.m(e,null),c(u,r),z(s,u,null),x(p,h,T),x(p,w,T),c(w,A),c(A,v),c(w,k),c(w,L),y&&y.m(L,null),c(w,P),z(F,w,null),G=!0},p(p,[T]){p[0]?b?b.p(p,T):(b=M(p),b.c(),b.m(e,null)):b&&(b.d(1),b=null);const N={};T&16&&(N.$$scope={dirty:T,ctx:p}),s.$set(N),p[0]?y?y.p(p,T):(y=Q(p),y.c(),y.m(L,null)):y&&(y.d(1),y=null);const j={};T&17&&(j.$$scope={dirty:T,ctx:p}),F.$set(j)},i(p){G||(R(s.$$.fragment,p),R(F.$$.fragment,p),G=!0)},o(p){B(s.$$.fragment,p),B(F.$$.fragment,p),G=!1},d(p){p&&n(t),p&&n(o),p&&n(u),b&&b.d(),J(s),p&&n(h),p&&n(w),y&&y.d(),J(F)}}}function de(f,t,i){let o;oe(f,V,a=>i(0,o=a));function u(){o.external_program.exec_server_url=this.value,V.set(o)}function l(){o.external_program.program=this.value,V.set(o)}function _(){o.twitch_proxy_api.url=this.value,V.set(o)}return[o,u,l,_]}class ge extends Z{constructor(t){super();ee(this,t,de,he,te,{})}}export{ge as default};
